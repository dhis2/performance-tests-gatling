name: Run Gatling Enterprise Simulation

on:
  workflow_dispatch:
  #   inputs:
  #     simulation_id:
  #       type: string
  #       required: true

jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - name: Gatling Enterprise Action
        uses: gatling/enterprise-action@v1
        with:
          api_token: ${{ secrets.GATLING_ENTERPRISE_API_TOKEN }}
          simulation_id: 98ae2938-eb8a-4da0-83dd-11ee8b21bcab
          extra_system_properties: >
            {
              "instance": "https://play.im.dhis2.org/stable-2-42-0"
            }
